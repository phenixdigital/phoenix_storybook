(()=>{var s,t={mounted(){s=this,window.addEventListener("psb-set-color-mode",this.onSetColorMode),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>{let e=this.selectedColorMode(),o=this.actualColorMode(e);this.pushEvent("psb-set-color-mode",{selected_mode:e,mode:o}),this.toggleColorModeClass(o)})},destroyed(){window.removeEventListener("psb-set-color-mode",this.onSetColorMode)},selectedColorMode(){return localStorage.getItem("psb_selected_color_mode")||"system"},actualColorMode(e){return e==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches||e==="dark"?"dark":"light"},toggleColorModeClass:e=>{"colorMode"in document.documentElement.dataset&&(e==="dark"?document.documentElement.classList.add("psb:dark"):document.documentElement.classList.remove("psb:dark"))},onSetColorMode:e=>{let o=e.detail.mode||"system";localStorage.setItem("psb_selected_color_mode",o);let d=s.actualColorMode(o);s.pushEvent("psb-set-color-mode",{selected_mode:o,mode:d}),s.toggleColorModeClass(d)}},l=t.selectedColorMode(),n=t.actualColorMode(l);t.toggleColorModeClass(n);window.storybook===void 0&&(console.warn("No storybook configuration detected."),console.warn("If you need to use custom hooks or uploaders, please define them in JS file and declare this     file in your in your Elixir backend module options (:js_path key)."),window.storybook={});var c=document.querySelector("html").getAttribute("phx-socket")||"/live",a=window.parent.document.querySelector("meta[name='csrf-token']")?.getAttribute("content"),r=new LiveView.LiveSocket(c,Phoenix.Socket,{hooks:{...window.storybook.Hooks,ColorModeHook:t},uploaders:window.storybook.Uploaders,params:e=>({_csrf_token:a}),...window.storybook.LiveSocketOptions});r.connect();window.liveSocket=r;})();
