(()=>{var h,a={mounted(){h=this,window.addEventListener("psb-set-color-mode",this.onSetColorMode),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>{let e=this.selectedColorMode(),t=this.actualColorMode(e);this.pushEvent("psb-set-color-mode",{selected_mode:e,mode:t}),this.toggleColorModeClass(t)})},destroyed(){window.removeEventListener("psb-set-color-mode",this.onSetColorMode)},selectedColorMode(){return localStorage.getItem("psb_selected_color_mode")||"system"},actualColorMode(e){return e==="system"&&window.matchMedia("(prefers-color-scheme: dark)").matches||e==="dark"?"dark":"light"},toggleColorModeClass:e=>{"colorMode"in document.documentElement.dataset&&(e==="dark"?document.documentElement.classList.add("psb:dark"):document.documentElement.classList.remove("psb:dark"))},onSetColorMode:e=>{let t=e.detail.mode||"system";localStorage.setItem("psb_selected_color_mode",t);let s=h.actualColorMode(t);h.pushEvent("psb-set-color-mode",{selected_mode:t,mode:s}),h.toggleColorModeClass(s)}},y=a.selectedColorMode(),S=a.actualColorMode(y);a.toggleColorModeClass(S);var p={execJS:(e,t)=>{e&&liveSocket.execJS(e,e.getAttribute(t))},mounted(){let e=document.querySelector("#search-container"),t=document.querySelector("#search-modal"),s=document.querySelector("#search-list"),r=document.querySelector("#search-input"),l=s.children,i=s.firstElementChild,d=s.lastElementChild,o=i;new MutationObserver(n=>{l=s.children,i=s.firstElementChild,d=s.lastElementChild,l.length>0&&(this.execJS(o,"phx-baseline"),o=i,this.execJS(o,"phx-highlight"))}).observe(s,{childList:!0}),window.addEventListener("psb:open-search",()=>{this.execJS(e,"phx-show"),this.execJS(t,"phx-show"),setTimeout(()=>r.focus(),50),this.execJS(o,"phx-highlight")}),window.addEventListener("psb:close-search",()=>{this.execJS(t,"phx-hide"),this.execJS(e,"phx-hide")}),window.addEventListener("keydown",n=>{n.metaKey&&(n.key==="k"||n.key==="K")&&(n.preventDefault(),this.dispatchOpenSearch())});for(let n of l)n.addEventListener("mouseover",c=>{c.movementX!==0&&c.movementY!==0&&c.target===n&&(this.execJS(o,"phx-baseline"),o=c.target,this.execJS(o,"phx-highlight"))});e.addEventListener("keydown",n=>{if(n.key==="Enter"){n.preventDefault();let c=o.firstElementChild;this.resetInput(r),this.pushEventTo("#search-container","navigate",{path:c.pathname}),this.dispatchCloseSearch()}n.key==="Escape"&&this.dispatchCloseSearch(),n.key==="Tab"&&n.preventDefault(),n.key==="ArrowUp"&&(this.execJS(o,"phx-baseline"),o===i?o=d:o=o.previousElementSibling,this.execJS(o,"phx-highlight"),o?.scrollIntoView({block:"nearest",inline:"nearest"})),n.key==="ArrowDown"&&(this.execJS(o,"phx-baseline"),o===d?o=i:o=o.nextElementSibling,this.execJS(o,"phx-highlight"),o?.scrollIntoView({block:"nearest",inline:"nearest"}))}),s.addEventListener("click",n=>{let c=o.firstElementChild;this.resetInput(r),this.pushEventTo("#search-container","navigate",{path:c.pathname}),this.dispatchCloseSearch()})},resetInput(e){e.value="",this.pushEventTo("#search-container","search",{search:{input:""}})},dispatchOpenSearch(){let e=new Event("psb:open-search");window.dispatchEvent(e)},dispatchCloseSearch(){let e=new Event("psb:close-search");window.dispatchEvent(e)}};var m={mounted(){let e=document.querySelector("#sidebar-container"),t=document.querySelector("#sidebar-overlay"),s=()=>{e.classList.remove("psb:hidden"),t.classList.remove("psb:hidden")},r=()=>{e.classList.add("psb:hidden"),t.classList.add("psb:hidden")};this.handleEvent("psb:open-sidebar",s),this.handleEvent("psb:close-sidebar",r),window.addEventListener("psb:open-sidebar",s),window.addEventListener("psb:close-sidebar",r)}};var u={mounted(){if(window.location.hash){let e=document.querySelector(window.location.hash);if(e){let t=document.querySelector("#live-container");setTimeout(()=>{t.scrollTop=e.offsetTop-115},100)}}this.bindAnchorLinks(),this.bindCopyCodeLinks()},updated(){this.bindAnchorLinks()},bindAnchorLinks(){for(let e of document.querySelectorAll(".variation-anchor-link"))e.addEventListener("click",t=>{t.preventDefault(),window.history.replaceState({},"",e.hash)})},bindCopyCodeLinks(){let e=["psb:text-slate-500","psb:hover:text-slate-100"],t=["psb:text-green-400","psb:hover:text-green-400"],s="fa-copy",r="fa-check";window.addEventListener("psb:copy-code",l=>{let i=l.target,d=i.querySelector(".svg-inline--fa")||i.querySelector(".fa-copy");i.classList.add(...t),i.classList.remove(...e),d.classList.add(r),d.classList.remove(s),this.copyToClipboard(i.nextElementSibling.textContent),setTimeout(()=>{let o=i.querySelector(".svg-inline--fa")||i.querySelector(".fa-copy");o.classList.add(s),o.classList.remove(r),i.classList.add(...e),i.classList.remove(...t)},1e3)})},copyToClipboard(e){let t=document.createElement("textarea");t.textContent=e,t.style.position="fixed",document.body.appendChild(t),t.select();try{return document.execCommand("copy")}catch(s){return console.warn("Copy to clipboard failed.",s),prompt("Copy to clipboard: Ctrl+C, Enter",e)}finally{document.body.removeChild(t)}}};window.storybook===void 0&&(console.warn("No storybook configuration detected."),console.warn("If you need to use custom hooks or uploaders, please define them in JS file and declare this     file in your Elixir backend module options (:js_path key)."),window.storybook={});var k=document.querySelector("html").getAttribute("phx-socket")||"/live",w=document.querySelector("meta[name='csrf-token']")?.getAttribute("content"),b=a.selectedColorMode(),f=a.actualColorMode(b),v=new LiveView.LiveSocket(k,Phoenix.Socket,{hooks:{...window.storybook.Hooks,StoryHook:u,SearchHook:p,SidebarHook:m,ColorModeHook:a},uploaders:window.storybook.Uploaders,params:e=>({_csrf_token:w,extra:window.storybook.Params,selected_color_mode:b,color_mode:f}),...window.storybook.LiveSocketOptions});v.connect();window.liveSocket=v;})();
